---------------
--- Kinesis ---
---------------
- What is Kinesis?
- It's a family of services, which enables you to collect, process and analyze streaming data in real-time.
- And it allows you to build custom applications for your own business needs and make decisions or take action based on the data and the analysis of the data that you are streaming.
- And when I first came across Kinesis, I wondered why did they choose that name? Well, Kinesis is originally a Greek word, meaning movement or motion.
- And it's actually a really good name for this service because Kinesis deals with data that is in motion. So in other words, with streaming data, rather than data which is static and stored in S3, or elastic block store or in a database.
- So Kinesis is all about collecting and analyzing streaming data.

--- What do I mean by streaming data? ---
- We mean data generated continuously by thousands of data sources, which typically send the data records simultaneously and in small sizes.
- So think in the order of kilobytes and to give you a few examples, it's things like a stream of financial transaction stock prices in game data as the gamer plays, social media feeds, location tracking data. So think Uber or Google maps. IOT sensors.
- So think of sensors inside a factory, maybe detecting air temperature or quality click stream data and log files.
- So this is all fairly small amounts of data and it's often unstructured data, and you might want to collect and provide a constant supply or stream of this data to an application for analysis and processing.
- So it's all about high throughput information, and Kinesis allows you to collect and analyze this kind of data in real-time so that you can make business decisions and take action based on your analysis of the data that you are streaming.

- Now, Kinesis, isn't just one service. It's actually a family of services and each offering is slightly different, but the one thing they have in common is that they all deal with streaming data.

--- Kinesis streams ---
- Which enables you to stream data or video to allow you to build custom applications, which process that data in real-time. And there are actually two options with Kinesis streams.
1. Kinesis data streams - Which deals with data
2. Kinesis video streams - which deals with only video data.
3. Kinesis data firehose - which allows you to capture, transform, and load data streams into AWS data stores, to enable near real-time analytics, using business intelligence tools. So data firehose is all about capturing, transforming and loading the data. So you can transform your raw data into apache parquet format, for example, and then load it into S3, Redshift, or Elasticsearch, directly from Kinesis data firehose.
4. Kinesis data analytics - We can analyze, query, and transform streamed data in real-time using standard SQL, or SQL queries, and then store the results in an AWS data store. So with Kinesis data analytics, you can interactively query your streaming data as it comes in, and then store the results within an AWS data store like S3 Redshift or Amazon Elasticsearch. So Kinesis data analytics is all about real-time analytics.

- Now in the exam, they do sometimes give you a scenario and they'll ask you to select the most appropriate service to use. So you really need to know the differences between the different Kinesis options. So let's take a look at each of these in a bit more detail, so that you really understand that the differences 


----------------------------
--- Kinesis Data Streams ---
----------------------------
- So let's take a look at how it all hangs together using an example.
- So down on the left, we have our data producers, and these are the devices which are producing the data. So that could be EC2 instances, mobile devices, laptops, and IOT devices, and all these devices are producing data and sending it over to Kinesis data streams.
- Now Kinesis streams retains the data by default for 24 hours with a maximum of 7 days retention, and the data is stored in these things called shards.
- And a shard is basically a sequence of data records. And each data record has a unique sequence number and
- Kinesis stream is made up of one or more shards, but don't worry too much about that right now. We're going to look at shards in more detail in the next slide.
- And once our data is in Kinesis, if we want to do anything with it, we'll need to introduce some data consumers. - So in this example, we've got some EC2 instances and some Lambda functions as well, which are going to consume the data from Kinesis and the consumers basically take the data from the shard and process it.
- For example, they might be running some algorithm on stock prices, running sentiment analysis on a social media feed, or analyzing clickstream data to generate product recommendations.
- And once the data consumers have completed their calculations, they can then save that data to permanent storage. For example, DynamoDB, S3, Elastic MapReduce, or Redshift. And these are just a few examples. You can save the data wherever you want.
- So Kinesis streams is basically facilitating this whole architecture by making it really easy to collect and stream the data so that your application can consume it and process it and then go on to store it in a permanent place.
- So now let's circle back to Kinesis shots and take a closer look at where they fit in. Now, shards only apply to Kinesis streams, so they don't appear in Kinesis data analytics or in Kinesis firehose.
- So if you see anything in the exam relating to shards, you know, they are referring to Kinesis streams.
- So Kinesis streams are made up of shards and each shard is a sequence of one or more data records. And each shard provides a fixed unit of capacity.
- So with each shard, you get five reads per second with a maximum total read rate of two megabytes per second. And you also get a thousand writes per second with a maximum total rate of a one megabyte per second for writes. And you don't need to remember these numbers for the exam is just useful background information to understand that the capacity of a Kinesis stream is determined by the number of shards it has.
- So essentially the data capacity of the stream is determined by the number of shards. And as the data rate increases, you can increase the capacity on your stream by increasing the number of shards.


-----------------------------
--- Kinesis video streams ---
-----------------------------
- So what about Kinesis video streams?
- Kinesis video streams allows you to securely stream video from connected devices to AWS. So these videos could be used for analytics and machine learning.
- And the main thing to remember is that if you see a scenario in the exam related to streaming video content and analyzing the videos, then think Kinesis video streams.
- And they might try to confuse you with Kinesis data streams or Kinesis data analytics, but if you're dealing with video data, which needs to be streamed for analysis by your application, then think can Kinesis video streams.


-----------------------------
--- Kinesis data firehose ---
-----------------------------
- So moving on to Kinesis data firehose.
- So here are the data producers and they are sending data to Kinesis data firehose.
- And with firehose, there are no shards or streams and all the capacity and sizing is automated for you.
- And you don't even need consumers to consume the data and you can optionally use a Lambda function to process or analyze the data in real-time, as it comes into firehose before sending the data to be stored in S3, for example, and with firehose, there's no data retention at all.
- So when the data is received by firehose, it's either picked up by Lambda and processed or saved directly to AWS storage.
- For example, saved to S3, and then loaded into Redshift from S3 or saved directly to Amazon Elasticsearch, where you can analyze the data using your own business intelligence tools.
- And firehose is very much an automated setup. You're using Lambda for any processing and then saving the data straight to permanent storage with no data consumers involved.
- So unlike Kinesis data streams, there are no shards and no consumers, and you can have Kinesis data firehose save your data to S3, or to Redshift via S3, or Elasticsearch, where you can then analyze your data using your own business intelligence tools.


------------------------------
--- Kinesis data analytics ---
------------------------------
- So moving on to Kinesis data analytics,
- and this can sometimes come up in the exam just as a high-level concept. So it's worth knowing about just from the high-level.
- So we've got our data producers on the left and they're producing data, which is being sent to Kinesis streams and Kinesis firehose, and this is where can he says data analytics fits in.
- So Kinesis data analytics is going to allow you to run sequel queries on your data as it comes in from Kinesis data firehose and Kinesis data streams.
- And then you can store the results of the SQL query in S3 or Redshift or Amazon elasticsearch.
- So, it's a way of analyzing the data inside Kinesis using standard SQL or sequel queries, and it works with Kinesis streams as well as firehose.
- So Kinesis data analytics is all about real-time analytics.
- So if you see anything in the exam about real-time analytics with streaming data and particularly running standard SQL queries on your data, as it comes in from firehose or Kinesis streams, then think Kinesis data analytics.


-----------------
--- Exam Tips ---
-----------------
- The main thing I would like you to take away from this lecture is the difference between services - Kinesis data streams and video streams, which enable you to capture and store streaming, video and data for real-time processing
and analytics and consumer applications can then process and analyze the data in real-time.
- We've then got Kinesis data firehose, which allows you to capture, transform, and load data continuously into AWS data stores.
- Or you can also use other service providers such as datadog, or Splunk and your existing business intelligence applications and tools can be used for near real-time analytics of the stored data.
- And then finally we have Kinesis data analytics, which provides real-time analytics using standard SQL queries on data received by Kinesis data streams and Kinesis data fire hose.
- And it goes on to store the process data in an AWS data store like S3 Redshift or Elasticsearch.
